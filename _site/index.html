<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1">

<meta property="og:title" content="Welcome">
<title>Welcome</title>
<meta property="og:description" content="This is a Jian's Blog.">
<meta property="og:url" content="http://localhost:4000/">
<meta property="og:site_name" content="Welcome">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@jianw851">
<meta name="twitter:creator" content="@jianw851">
<meta name="twitter:title" content="Welcome">
<meta name="twitter:description" content="This is a Jian's Blog.">
<meta name="twitter:url" content="http://localhost:4000/">

<meta name="keywords" content="Jian Wang, Blog, Technology Blog">

<link rel="icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="http://localhost:4000/">
<link rel="alternate" type="application/atom+xml" title="Welcome" href="http://localhost:4000/feed.xml" />

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script language="Javascript" type="text/javascript">
function search_google()
{
  var query = document.getElementById("google-search").value;
  window.open("http://google.com/search?q=" + query
      + "%20site:" + "http://localhost:4000");
}
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-61717136-1', 'auto');
ga('send', 'pageview');

</script>


<script type='text/javascript'>
var blocklink = ['http://humanorightswatch.org','http://o-o-6-o-o.com','http://darodar.com','http://blackhatworth.com','http://hulfingtonpost.com','http://bestwebsitesawards.com','http://darodar.com','http://buttons-for-website.com','http://ilovevitaly.co','http://semalt.com','http://priceg.com','http://simple-share-buttons.com','http://googlsucks.com','http://4webmasters.org','http://aliexpress.com','http://addons.mozilla.org/en-US/firefox/addon/ilovevitaly/','http://free-share-buttons.com','http://buttons-for-your-website.com','http://theguardlan.com','http://buy-cheap-online.info','http://best-seo-offer.com','http://4webmasters.org','http://trafficmonetize.org','http://howtostopreferralspam.eu','http://ilovevitaly.com','http://sanjosestartups.com','http://free-social-buttons.com','http://best-seo-offer.com','http://guardlink.org','http://www.event-tracking.com','http://www3.free-social-buttons.com','http://www1.free-social-buttons.com','http://www2.free-social-buttons.com','http://websites-reviews.com','http://floating-share-buttons.com','http://satellite.maps.ilovevitaly.com','http://free-social-buttons.com','http://www.event-tracking.com','http://erot.co'];
for (var b = blocklink.length; b--;) {
  if (document.referrer.match(blocklink[b]))
    window.location = "http://www.google.com";
}
</script>




</head>


<body>

<div class="container">

  <header class="site-header">

  <div class="wrapper">

    <h1 class="site-title"><a href="/">Welcome</a></h1>
    <h3 class="site-meta">to Jian's Blog</h3>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
        
        <a class="page-link" href="/">Home</a>
        
        
        
        <a class="page-link" href="/about/">About</a>
        
        
        
        <a class="page-link" href="/archives/">Archives</a>
        
        
        
        <a class="page-link" href="/categories/">Categories</a>
        
        
        
        <a class="page-link" href="/tags/">Tags</a>
        
        
        
        <a class="page-link" href="/guestbook/">Guestbook</a>
        
        
        
        <a class="page-link" href="/feed.xml">Subscribe</a>
        
        
        
        
        
        
        
        <a class="page-link" href="/sitemap.txt"></a>
        
        
        
        
        
        
        
        
        
        
        <div class="google-search">
          <form onsubmit="search_google()" >
            <input  type="text" id="google-search" placeholder="Google search" />
            <input  type="submit" name="sa" value="Go" />
          </form>
        </div>
      </div>
    </nav>

  </div>

</header>


  

  <div class="page-content">
    <div class="wrapper">
      <div class="home">
  <div class="post" itemscope itemtype="http://schema.org/BlogPosting" >

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/05/02/graph-bellman-ford.html">Bellman-Ford algorithm</a>
      </h1>
      <meta itemprop="keywords" content="Graph,Bellman-Ford" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Graph" title="Graph">Graph</a>, 
      
      <a href="/tags/#Bellman-Ford" title="Bellman-Ford">Bellman-Ford</a>
      
      
      <time itemprop="datePublished" datetime="2016-05-02">
        on May 2, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a simple implementation of Bellman-Ford</p>

<!--more-->

<h3 id="source-code-c">Source Code (C++)</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;
#include &lt;limits&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">uwGraph</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">V</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">E</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">useMatrix</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">matrix</span><span class="p">;</span>  <span class="c1">// representation of matrix
</span>  <span class="n">uwGraph</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// O(1)
</span>    <span class="n">V</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">E</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * create am empty graph with V vertices
  *******************************/</span>
  <span class="n">uwGraph</span><span class="p">(</span><span class="kt">int</span> <span class="n">V1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">E1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">useMatrix</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="n">V</span> <span class="o">=</span> <span class="n">V1</span><span class="p">;</span>
      <span class="n">E</span> <span class="o">=</span> <span class="n">E1</span><span class="p">;</span>
      <span class="n">matrix</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">()));</span> <span class="c1">//O(V^2)
</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * find all the adjacent value
  *******************************/</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">adjacent</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">adjvector</span><span class="p">;</span>
      <span class="c1">// O(V)
</span>       <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">adjvector</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
       <span class="p">}</span>
     <span class="k">return</span> <span class="n">adjvector</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/******************************
  * add edges to the graph
  *******************************/</span>
  <span class="kt">void</span> <span class="n">addEdge</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="kt">double</span> <span class="n">weight</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// O(1)
</span>      <span class="c1">// here I use the whole matrix (not half)
</span>      <span class="n">matrix</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span><span class="p">;</span>
      <span class="n">matrix</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">weight</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/******************************
  * check if two vertices are adjacent
  *******************************/</span>
  <span class="kt">bool</span> <span class="n">isAdjacent</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">w</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
   <span class="c1">// O(1)
</span>      <span class="k">return</span> <span class="n">matrix</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"title "</span><span class="p">;</span>
      <span class="k">for</span>  <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
     <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">V</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"     "</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">bellmanford</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">D</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">P</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// O(V^3) omega(V^2)
</span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">u</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">v</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
              <span class="n">D</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
              <span class="n">D</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">])</span> <span class="p">{</span>
                <span class="n">D</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="n">matrix</span><span class="p">[</span><span class="n">u</span><span class="p">][</span><span class="n">v</span><span class="p">];</span>
                <span class="n">P</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">u</span><span class="p">;</span>
           <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
 <span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">;</span>
  <span class="kt">double</span> <span class="n">weight</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">V</span> <span class="o">&gt;&gt;</span> <span class="n">E</span><span class="p">;</span>
  <span class="n">uwGraph</span> <span class="n">graphmatrix</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">E</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">v</span> <span class="o">&gt;&gt;</span> <span class="n">w</span> <span class="o">&gt;&gt;</span> <span class="n">weight</span><span class="p">;</span>
    <span class="n">graphmatrix</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">weight</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">//cout &lt;&lt; "**************** Matrix representation ***************** " &lt;&lt; endl;
</span>  <span class="c1">//cout &lt;&lt; "bellow is the representation of the graph:"&lt;&lt;endl;
</span>  <span class="c1">//graphmatrix.print();
</span>  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">D</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">());</span>
  <span class="n">D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">P</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">graphmatrix</span><span class="p">.</span><span class="n">bellmanford</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">P</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">D</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">P</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
</div>
<p>Bellow is test data</p>

<div class="highlighter-rouge"><pre class="highlight"><code>6
8
0 1 2.5
0 3 0.5
1 4 1.2
1 2 0.5
2 3 1.5
2 4 1.0
4 5 1.4
3 5 4.4
</code></pre>
</div>
<h3 id="contribution">Contribution</h3>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/05/02/graph-DFS-BFS.html">Graph Representation</a>
      </h1>
      <meta itemprop="keywords" content="Graph,DFS,BFS" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Graph" title="Graph">Graph</a>, 
      
      <a href="/tags/#DFS" title="DFS">DFS</a>, 
      
      <a href="/tags/#BFS" title="BFS">BFS</a>
      
      
      <time itemprop="datePublished" datetime="2016-05-02">
        on May 2, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a simple implementation of Undirected Graph</p>

<!--more-->

<h3 id="source-code-c">Source Code (C++)</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code>
<span class="cp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">undirectedGraph</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">class</span> <span class="nc">edge</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="c1">//int vertex;  //in case the vetices are huge and not contiguous
</span>    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">list</span><span class="p">;</span>
    <span class="n">edge</span> <span class="p">()</span> <span class="p">{}</span>
  <span class="p">};</span>
  <span class="kt">int</span> <span class="n">V</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">E</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">useMatrix</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">edge</span><span class="o">&gt;</span> <span class="n">adjlist</span><span class="p">;</span>  <span class="c1">// representation of adjacent list
</span>  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">matrix</span><span class="p">;</span>  <span class="c1">// representation of matrix
</span>  <span class="n">undirectedGraph</span><span class="p">()</span> <span class="p">{</span>  <span class="c1">// O(1)
</span>    <span class="n">V</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">E</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * create am empty graph with V vertices
  *******************************/</span>
  <span class="n">undirectedGraph</span><span class="p">(</span><span class="kt">int</span> <span class="n">V1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">E1</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">flag</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">flag</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">useMatrix</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="n">V</span> <span class="o">=</span> <span class="n">V1</span><span class="p">;</span>
      <span class="n">E</span> <span class="o">=</span> <span class="n">E1</span><span class="p">;</span>
      <span class="n">matrix</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span> <span class="c1">//O(V^2)
</span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">useMatrix</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
      <span class="n">V</span> <span class="o">=</span> <span class="n">V1</span><span class="p">;</span>
      <span class="n">E</span> <span class="o">=</span> <span class="n">E1</span><span class="p">;</span>
      <span class="n">adjlist</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">edge</span><span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">);</span> <span class="c1">//initial O(V)
</span>    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">numberOfV</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// O(1)
</span>    <span class="k">return</span> <span class="n">V</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">numberOfE</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// O(1)
</span>    <span class="k">return</span> <span class="n">E</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * find all the adjacent value
  *******************************/</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">adjacent</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">adjvector</span><span class="p">;</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">useMatrix</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// O(V)
</span>       <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">adjvector</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
       <span class="p">}</span>
     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>  <span class="c1">// O(V) omega(1)
</span>       <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">adjlist</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">adjvector</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">adjlist</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
       <span class="p">}</span>
     <span class="p">}</span>
     <span class="k">return</span> <span class="n">adjvector</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * find the number of vetices
  * adjacent to vertex v
  *******************************/</span>
  <span class="kt">int</span> <span class="n">degree</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// matrix: O(V) adjacent list: O(V) omega(1)
</span>    <span class="kt">int</span> <span class="n">degree</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">w</span> <span class="o">:</span> <span class="n">adjacent</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="n">degree</span><span class="o">++</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">degree</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * add edges to the graph
  *******************************/</span>
  <span class="kt">void</span> <span class="n">addEdge</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// O(1)
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">useMatrix</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// here I use the whole matrix (not half)
</span>      <span class="n">matrix</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">matrix</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">adjlist</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">w</span><span class="p">);</span>
      <span class="n">adjlist</span><span class="p">[</span><span class="n">w</span><span class="p">].</span><span class="n">list</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * count the number of Cycles
  * matrix: O(V^3) adjacent list: O(V^3) omega(V^2)
  *******************************/</span>
  <span class="kt">int</span> <span class="n">numberOfCycles</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">v</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">adjacent</span><span class="p">(</span><span class="n">v</span><span class="p">).</span><span class="n">size</span><span class="p">();</span> <span class="n">w</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">w</span><span class="p">)</span> <span class="n">count</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">count</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// this is only for undirected graph. For directed graph, no need divide by 2;
</span>  <span class="p">}</span>
  <span class="cm">/******************************
  * check if two vertices are adjacent
  *******************************/</span>
  <span class="kt">bool</span> <span class="n">isAdjacent</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="n">w</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">useMatrix</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// O(1)
</span>      <span class="k">return</span> <span class="n">matrix</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// O(V) omega(1)
</span>      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">adjlist</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">adjlist</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">w</span><span class="p">)</span>
           <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * DFS all the vertices
  * O(V^2) omega(V) limited to edges
  *******************************/</span>
  <span class="kt">void</span> <span class="n">DFS</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">visited</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="n">adjacent</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">DFS</span><span class="p">(</span><span class="n">visited</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * BFS all the vertices
  * O(V^2) omega(V) limited to edges too
  *******************************/</span>
  <span class="kt">void</span> <span class="n">BFS</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">visited</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">queue1</span><span class="p">;</span>
    <span class="n">queue1</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">queue1</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">queue1</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
      <span class="n">visited</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">:</span> <span class="n">adjacent</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
         <span class="n">queue1</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">queue1</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="cm">/******************************
  * count the number of Cycles
  * matrix: O(V^3) adjacent list: O(V^3) omega(V^2)
  *******************************/</span>
  <span class="kt">bool</span> <span class="n">isConnected</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
    <span class="n">DFS</span><span class="p">(</span><span class="n">visited</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
    <span class="n">BFS</span><span class="p">(</span><span class="n">visited</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">visited</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">useMatrix</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"title "</span><span class="p">;</span>
      <span class="k">for</span>  <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
     <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">V</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="s">"     "</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">matrix</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
     <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">V</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">adjlist</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">list</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
           <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"vertex #"</span> <span class="o">&lt;&lt;</span> <span class="n">i</span> <span class="o">&lt;&lt;</span><span class="s">": "</span><span class="p">;</span>
         <span class="k">else</span>
           <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">adjlist</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">list</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
       <span class="p">}</span>
       <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
     <span class="p">}</span>
   <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">;</span> <span class="c1">// two adjacent vertices
</span>  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">V</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">E</span><span class="p">;</span>
  <span class="n">undirectedGraph</span> <span class="n">graphmatrix</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
  <span class="n">undirectedGraph</span> <span class="n">graphadjlist</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">E</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">E</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">w</span><span class="p">;</span>
    <span class="n">graphmatrix</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">);</span>
    <span class="n">graphadjlist</span><span class="p">.</span><span class="n">addEdge</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"**************** Matrix representation ***************** "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of vertices is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphmatrix</span><span class="p">.</span><span class="n">numberOfV</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of edges is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphmatrix</span><span class="p">.</span><span class="n">numberOfE</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the degree of v = 1 is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphmatrix</span><span class="p">.</span><span class="n">degree</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of cycles is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphmatrix</span><span class="p">.</span><span class="n">numberOfCycles</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"bellow is the representation of the graph:"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">graphmatrix</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Is connected? "</span> <span class="o">&lt;&lt;</span> <span class="n">graphmatrix</span><span class="p">.</span><span class="n">isConnected</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*************** adj-list representation **************** "</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of vertices is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphadjlist</span><span class="p">.</span><span class="n">numberOfV</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of edges is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphadjlist</span><span class="p">.</span><span class="n">numberOfE</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the degree of v = 1 is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphadjlist</span><span class="p">.</span><span class="n">degree</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"the number of cycles is: "</span> <span class="o">&lt;&lt;</span> <span class="n">graphadjlist</span><span class="p">.</span><span class="n">numberOfCycles</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"bellow is the representation of the graph:"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">graphadjlist</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Is connected? "</span> <span class="o">&lt;&lt;</span> <span class="n">graphadjlist</span><span class="p">.</span><span class="n">isConnected</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>



</code></pre>
</div>
<p>Bellow is test data</p>

<div class="highlighter-rouge"><pre class="highlight"><code>7
8
0 1
0 2
0 6
0 5
3 5
3 4
4 5
4 6
</code></pre>
</div>
<h3 id="contribution">Contribution</h3>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/05/Red-Black-Tree.html">Red Black Tree implementation</a>
      </h1>
      <meta itemprop="keywords" content="RBTree,Red Black Tree" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#RBTree" title="RBTree">RBTree</a>, 
      
      <a href="/tags/#Red Black Tree" title="Red Black Tree">Red Black Tree</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-05">
        on Apr 5, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a simple implementation of Red Black Tree.</p>

<!--more-->

<h3 id="source-code-c">Source Code (C++)</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code>
<span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">RBTree</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="k">class</span> <span class="nc">Node</span> <span class="p">{</span>
  <span class="k">public</span><span class="o">:</span>
    <span class="kt">bool</span> <span class="n">isred</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">left</span><span class="p">;</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">right</span><span class="p">;</span>
    <span class="n">Node</span><span class="p">()</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">isred</span><span class="p">(</span><span class="nb">true</span><span class="p">),</span> <span class="n">left</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
    <span class="n">Node</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">isred</span><span class="p">(</span><span class="nb">true</span><span class="p">),</span> <span class="n">left</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
  <span class="p">};</span>
  <span class="n">Node</span> <span class="o">*</span><span class="n">root</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span> <span class="o">*&gt;</span> <span class="n">array</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">RBTree</span><span class="p">()</span> <span class="o">:</span> <span class="n">root</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">RBTree</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">root</span><span class="p">(</span><span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="p">{}</span>
  <span class="o">~</span><span class="n">RBTree</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">root</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">array</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">destruct</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="n">isRed</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span><span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">isred</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">rotate_left</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="o">&amp;</span><span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">;</span>
    <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">node</span><span class="p">;</span>
    <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">isred</span> <span class="o">=</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">isred</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">rotate_right</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="o">&amp;</span><span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">;</span>
    <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">=</span> <span class="n">node</span><span class="p">;</span>
    <span class="n">temp</span><span class="o">-&gt;</span><span class="n">isred</span> <span class="o">=</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">isred</span><span class="p">;</span>
    <span class="n">node</span><span class="o">-&gt;</span><span class="n">isred</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">flip_color</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="o">&amp;</span><span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">isred</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">-&gt;</span> <span class="n">isred</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">-&gt;</span> <span class="n">isred</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">buildTree</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">array</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>
      <span class="n">insert</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
   <span class="n">display</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
 <span class="p">}</span>

  <span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="o">&amp;</span><span class="n">node</span><span class="p">,</span> <span class="n">Node</span> <span class="o">*</span> <span class="o">&amp;</span><span class="n">vnode</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="n">node</span> <span class="o">=</span> <span class="n">vnode</span><span class="p">;</span>
    <span class="c1">// divide
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="n">vnode</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span>
      <span class="n">insert</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">,</span> <span class="n">vnode</span><span class="p">);</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">val</span> <span class="o">&lt;</span> <span class="n">vnode</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span>
      <span class="n">insert</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">,</span> <span class="n">vnode</span><span class="p">);</span>
    <span class="c1">// Conquer
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">))</span> <span class="n">rotate_left</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">left</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">))</span> <span class="n">rotate_right</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">isRed</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">))</span> <span class="n">flip_color</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">display</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="n">display</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span><span class="p">;</span>
    <span class="n">display</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">RBTree</span> <span class="n">rbtree</span><span class="p">;</span>
  <span class="n">rbtree</span><span class="p">.</span><span class="n">buildTree</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


</code></pre>
</div>

<h3 id="contribution">Contribution</h3>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/04/Rehashing-Linear-Probe.html">Rehashing Linear Probe Practice</a>
      </h1>
      <meta itemprop="keywords" content="Hashing,Linear Probe,Rehashing" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Hashing" title="Hashing">Hashing</a>, 
      
      <a href="/tags/#Linear Probe" title="Linear Probe">Linear Probe</a>, 
      
      <a href="/tags/#Rehashing" title="Rehashing">Rehashing</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-04">
        on Apr 4, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a implementation of Linear Probe Hashing and Rehashing, this code is based on Prof. Dov’s code.</p>

<p>Just used to learn the general idea.</p>

<!--more-->

<h3 id="source-code-c">Source Code (C++)</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code>
<span class="cp">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdio.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Hashmap</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">string</span><span class="o">**</span> <span class="n">table</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">size</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">used</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">limit</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Hashmap</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">size</span> <span class="o">=</span> <span class="mi">16</span><span class="p">;</span>
    <span class="n">used</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">limit</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
    <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="o">*</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="o">~</span><span class="n">Hashmap</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="k">delete</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">delete</span> <span class="p">[]</span> <span class="n">table</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">grow</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">Hashmap</span> <span class="o">*</span><span class="n">old</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Hashmap</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">);</span>
    <span class="n">size</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">limit</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">used</span> <span class="o">=</span> <span class="n">old</span><span class="o">-&gt;</span><span class="n">used</span><span class="p">;</span>
    <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="o">*</span><span class="p">[</span><span class="n">size</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">old</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">((</span><span class="n">old</span><span class="o">-&gt;</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">add</span><span class="p">(</span><span class="o">*</span><span class="n">old</span><span class="o">-&gt;</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="n">Hashmap</span><span class="p">(</span><span class="kt">int</span> <span class="n">init</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">init</span><span class="p">;</span> <span class="n">i</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">limit</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">limit</span><span class="o">*</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="o">*</span><span class="p">[</span><span class="n">size</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
    <span class="n">used</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">Hashmap</span><span class="p">(</span><span class="k">const</span> <span class="n">Hashmap</span><span class="o">&amp;</span> <span class="n">orig</span><span class="p">)</span>  <span class="p">{</span>
    <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="o">*</span><span class="p">[</span><span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">];</span>
    <span class="n">size</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">;</span>
    <span class="n">used</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">used</span><span class="p">;</span>
    <span class="n">limit</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">limit</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">orig</span><span class="p">.</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
      <span class="k">else</span>
        <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="o">*</span><span class="n">orig</span><span class="p">.</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">int</span> <span class="n">hash1</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">hashcode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">hashcode</span> <span class="o">=</span> <span class="n">hashcode</span> <span class="o">*</span> <span class="mi">32</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">hashcode</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">hash2</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">hashcode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">hashcode</span> <span class="o">=</span> <span class="p">(</span><span class="n">hashcode</span> <span class="o">&lt;&lt;</span> <span class="mi">13</span><span class="p">)</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span><span class="p">(</span><span class="n">hashcode</span> <span class="o">&gt;&gt;</span> <span class="mi">17</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">hashcode</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">int</span> <span class="n">hash</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">v</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">Hashmap</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">Hashmap</span><span class="o">&amp;</span> <span class="n">orig</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="n">orig</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="o">-&gt;~</span><span class="n">Hashmap</span><span class="p">();</span>
      <span class="n">table</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="o">*</span><span class="p">[</span><span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">];</span>
      <span class="n">size</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">;</span>
      <span class="n">used</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">used</span><span class="p">;</span>
      <span class="n">limit</span> <span class="o">=</span> <span class="n">orig</span><span class="p">.</span><span class="n">limit</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">orig</span><span class="p">.</span><span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">orig</span><span class="p">.</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="nb">nullptr</span><span class="p">)</span>
          <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">nullptr</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="o">*</span><span class="n">orig</span><span class="p">.</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">used</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">used</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">)</span>
      <span class="k">this</span><span class="o">-&gt;</span><span class="n">grow</span><span class="p">();</span>
    <span class="kt">int</span> <span class="n">bin</span> <span class="o">=</span> <span class="n">hash</span><span class="p">(</span><span class="n">stoi</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="n">bin</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">bin</span> <span class="o">=</span> <span class="p">(</span><span class="n">bin</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">size</span><span class="p">;</span>
      <span class="n">count</span> <span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">table</span><span class="p">[</span><span class="n">bin</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">display</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">used</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">limit</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">size</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">used</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">nullptr</span><span class="p">)</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Hashmap</span> <span class="n">m</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="n">to_string</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="n">m</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">Hashmap</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">m</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
  <span class="n">m2</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


</code></pre>
</div>

<h3 id="contribution">Contribution</h3>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/04/Boggle-Game.html">Boggle Game</a>
      </h1>
      <meta itemprop="keywords" content="DFS,Back Tracking,Boggle" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#DFS" title="DFS">DFS</a>, 
      
      <a href="/tags/#Back Tracking" title="Back Tracking">Back Tracking</a>, 
      
      <a href="/tags/#Boggle" title="Boggle">Boggle</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-04">
        on Apr 4, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a implementation of Boggle game using Trie.</p>

<!--more-->

<h3 id="source-code-c">Source Code (C++)</h3>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
#include&lt;fstream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;unordered_map&gt;
#include&lt;algorithm&gt;
</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">ifstream</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">ofstream</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">count_if</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">for_each</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">TrieNode</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="kt">bool</span> <span class="n">isWord</span><span class="p">;</span>
  <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">subTrie</span><span class="p">[</span><span class="mi">26</span><span class="p">];</span>
  <span class="n">TrieNode</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">isWord</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">subTrie</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">Trie</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">root</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Trie</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="o">~</span><span class="n">Trie</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">destruct</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
      <span class="k">delete</span> <span class="n">root</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">destruct</span> <span class="p">(</span><span class="n">TrieNode</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">destruct</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="k">delete</span> <span class="n">node</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">getRoot</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">root</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">char</span> <span class="n">toLower</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">c</span> <span class="o">-</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="mi">64</span> <span class="o">&amp;&amp;</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">91</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">32</span><span class="p">;</span>
    <span class="k">else</span>
      <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">add</span><span class="p">(</span><span class="n">string</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">toLower</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="mi">97</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">idx</span> <span class="o">&gt;</span><span class="mi">25</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="p">();</span>
      <span class="p">}</span>
      <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="n">curr</span><span class="o">-&gt;</span><span class="n">isWord</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">buildTrie</span><span class="p">(</span><span class="n">string</span> <span class="n">filename</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ifstream</span> <span class="n">infile</span><span class="p">;</span>
    <span class="n">infile</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">infile</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"open "</span><span class="o">&lt;&lt;</span> <span class="n">filename</span> <span class="o">&lt;&lt;</span><span class="s">" failed</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">string</span> <span class="n">word</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">infile</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">infile</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="n">contains</span><span class="p">(</span><span class="n">string</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">toLower</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="mi">97</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">idx</span> <span class="o">&gt;</span><span class="mi">25</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">isWord</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kt">bool</span> <span class="n">containsPrefix</span><span class="p">(</span><span class="n">string</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">length</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">toLower</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="mi">97</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">idx</span> <span class="o">&gt;</span><span class="mi">25</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">containsPrefix_Faster</span><span class="p">(</span><span class="n">TrieNode</span> <span class="o">*</span> <span class="n">curr</span><span class="p">,</span> <span class="kt">char</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">toLower</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="mi">97</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">idx</span> <span class="o">&gt;</span><span class="mi">25</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
      <span class="k">return</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">subTrie</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="k">class</span> <span class="nc">Boggle</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">size</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span> <span class="n">board</span><span class="p">;</span>
  <span class="n">Trie</span> <span class="n">trie</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Boggle</span><span class="p">(){}</span>
  <span class="o">~</span> <span class="n">Boggle</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">board</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">init</span><span class="p">(</span><span class="n">string</span> <span class="n">bogglefile</span><span class="p">,</span> <span class="n">string</span> <span class="n">triefile</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">trie</span><span class="p">.</span><span class="n">buildTrie</span><span class="p">(</span><span class="n">triefile</span><span class="p">);</span>
    <span class="n">ifstream</span> <span class="n">infile</span><span class="p">;</span>
    <span class="n">infile</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">bogglefile</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">infile</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"open "</span><span class="o">&lt;&lt;</span> <span class="n">bogglefile</span> <span class="o">&lt;&lt;</span><span class="s">" failed</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">infile</span> <span class="o">&gt;&gt;</span> <span class="n">size</span><span class="p">;</span>
    <span class="n">board</span> <span class="o">=</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">size</span> <span class="o">*</span> <span class="n">size</span><span class="p">,</span> <span class="sc">'#'</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">letter</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">infile</span> <span class="o">&gt;&gt;</span> <span class="n">letter</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">letter</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">infile</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">play</span><span class="p">(</span><span class="n">string</span> <span class="n">outputfile</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">hashmap</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">*</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">backTracking</span><span class="p">(</span><span class="n">hashmap</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">trie</span><span class="p">.</span><span class="n">getRoot</span><span class="p">(),</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
    <span class="c1">// print the result
</span>    <span class="n">ofstream</span> <span class="n">outfile</span><span class="p">;</span>
    <span class="n">outfile</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">outputfile</span><span class="p">,</span> <span class="n">ios</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">app</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">outfile</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">outputfile</span> <span class="o">&lt;&lt;</span> <span class="s">"open fail!</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">itr</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">itr</span> <span class="o">=</span> <span class="n">hashmap</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">itr</span> <span class="o">!=</span> <span class="n">hashmap</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="n">itr</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">outfile</span> <span class="o">&lt;&lt;</span> <span class="n">itr</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span><span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">itr</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">itr</span><span class="o">-&gt;</span><span class="n">first</span> <span class="o">&lt;&lt;</span><span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">itr</span><span class="o">-&gt;</span><span class="n">second</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">outfile</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">backTracking</span><span class="p">(</span><span class="n">unordered_map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">hashmap</span><span class="p">,</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">,</span> <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">curr</span><span class="p">,</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">TrieNode</span> <span class="o">*</span> <span class="n">nextptr</span> <span class="o">=</span> <span class="n">trie</span><span class="p">.</span><span class="n">containsPrefix_Faster</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">board</span><span class="p">[</span><span class="n">pos</span><span class="p">]);</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">nextptr</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span><span class="p">;</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">nextptr</span><span class="o">-&gt;</span><span class="n">isWord</span> <span class="o">&amp;&amp;</span> <span class="n">visited</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">string</span> <span class="n">word</span><span class="p">;</span>
        <span class="n">for_each</span><span class="p">(</span><span class="n">visited</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">visited</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="p">[</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">word</span><span class="p">](</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">word</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">n</span><span class="p">]);</span>
        <span class="p">});</span>
        <span class="n">word</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">pos</span><span class="p">]);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">hashmap</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">!=</span> <span class="n">hashmap</span><span class="p">.</span><span class="n">end</span><span class="p">())</span>
          <span class="n">hashmap</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
        <span class="k">else</span>
          <span class="n">hashmap</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">visited</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">pos</span><span class="p">);</span>
      <span class="c1">// find both unique and valid positions
</span>      <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span> <span class="o">/</span> <span class="n">size</span><span class="p">),</span> <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span> <span class="o">%</span> <span class="n">size</span><span class="p">);</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">i</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">];</span> <span class="n">j</span> <span class="o">+=</span> <span class="n">y</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">&amp;&amp;</span>
            <span class="n">j</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="p">)</span> <span class="p">{</span>
          <span class="n">pos</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">size</span> <span class="o">+</span> <span class="n">j</span><span class="p">;</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">count_if</span><span class="p">(</span><span class="n">visited</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">visited</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span>
            <span class="p">[</span><span class="o">&amp;</span><span class="n">pos</span><span class="p">](</span><span class="kt">int</span> <span class="n">num</span><span class="p">){</span> <span class="k">return</span> <span class="n">num</span> <span class="o">==</span> <span class="n">pos</span><span class="p">;})</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">backTracking</span><span class="p">(</span><span class="n">hashmap</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">nextptr</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">i</span> <span class="o">-=</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">];</span> <span class="n">j</span> <span class="o">-=</span> <span class="n">y</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
      <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Boggle</span> <span class="n">boggle</span><span class="p">;</span>
  <span class="n">boggle</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="s">"boggle.dat"</span><span class="p">,</span> <span class="s">"dictionary.txt"</span><span class="p">);</span>
  <span class="n">boggle</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="s">"bogglewords.txt"</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre>
</div>

<h3 id="test-files">Test files</h3>

<ul>
  <li>
    <p><a href="https://drive.google.com/file/d/0B4WEFlVUmo6xei1zWHF5U0RKd2s/view">dictionary.txt</a></p>
  </li>
  <li>
    <p><a href="https://drive.google.com/file/d/0Bwxfq4Y7f7vkSl92ZkxoMm12cEE/view?usp=sharing">boggle.dat</a></p>
  </li>
</ul>

<h3 id="output">Output</h3>

<ul>
  <li><a href="../../../../files/bogglewords.txt">bogglewords.txt</a></li>
</ul>

<h3 id="contribution">Contribution</h3>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/03/Binary-Tree.html">Binary Tree order traversal implementation</a>
      </h1>
      <meta itemprop="keywords" content="Tree,DFS,Divide and Conquer,Traverse,Pre-order,Post-order,In-order" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Tree" title="Tree">Tree</a>, 
      
      <a href="/tags/#DFS" title="DFS">DFS</a>, 
      
      <a href="/tags/#Divide and Conquer" title="Divide and Conquer">Divide and Conquer</a>, 
      
      <a href="/tags/#Traverse" title="Traverse">Traverse</a>, 
      
      <a href="/tags/#Pre-order" title="Pre-order">Pre-order</a>, 
      
      <a href="/tags/#Post-order" title="Post-order">Post-order</a>, 
      
      <a href="/tags/#In-order" title="In-order">In-order</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-03">
        on Apr 3, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a implementation of Binary Tree which is used to test its pre-order, in-order and post-order traversal sequence.</p>

<p>I found a very interesting thing that test case 2 and test case 3 can let two different order has the same sequence.</p>

<!--more-->

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code>
<span class="cp">#include&lt;iostream&gt;
#include&lt;fstream&gt;
#include&lt;stack&gt;
#include&lt;string&gt;
#include&lt;queue&gt;
#include&lt;vector&gt;
#include&lt;unordered_set&gt;
</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">ifstream</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">stack</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">queue</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">unordered_set</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Node</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
  <span class="n">Node</span> <span class="o">*</span> <span class="n">left</span><span class="p">;</span>
  <span class="n">Node</span> <span class="o">*</span> <span class="n">right</span><span class="p">;</span>
  <span class="n">Node</span><span class="p">()</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">left</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">Node</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">left</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">right</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">BinaryTree</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">Node</span> <span class="o">*</span> <span class="n">root</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">BinaryTree</span><span class="p">()</span> <span class="o">:</span> <span class="n">root</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">BinaryTree</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">root</span><span class="p">(</span><span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="p">{}</span>
  <span class="o">~</span> <span class="n">BinaryTree</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">root</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">destruct</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">Node</span> <span class="o">*</span> <span class="n">getRoot</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">root</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">buildPlainTree</span><span class="p">(</span><span class="n">string</span> <span class="n">filename</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">destruct</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
      <span class="k">delete</span> <span class="n">root</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ifstream</span> <span class="n">infile</span><span class="p">;</span>
    <span class="n">infile</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">infile</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">filename</span> <span class="o">&lt;&lt;</span><span class="s">" open fail! </span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">string</span> <span class="n">word</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">array</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">infile</span> <span class="o">&gt;&gt;</span> <span class="n">word</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">word</span> <span class="o">!=</span> <span class="s">"#"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">stoi</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
        <span class="n">array</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">num</span><span class="p">));</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">array</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">array</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">pos</span> <span class="o">&lt;</span> <span class="n">array</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
       <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="n">pos</span><span class="o">++</span><span class="p">];</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">pos</span> <span class="o">&lt;</span> <span class="n">array</span><span class="p">.</span><span class="n">size</span><span class="p">())</span>
       <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="n">pos</span><span class="o">++</span><span class="p">];</span>
   <span class="p">}</span>
   <span class="n">root</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
   <span class="n">array</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">doit</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">node</span> <span class="o">-&gt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="s">"  "</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// DC : Divide and Conquer
</span>  <span class="kt">void</span> <span class="n">DC_preorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="n">doit</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
    <span class="n">DC_preorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
    <span class="n">DC_preorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">DC_postorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="n">DC_postorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
    <span class="n">DC_postorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
    <span class="n">doit</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">DC_inorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">node</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="n">DC_inorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
    <span class="n">doit</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
    <span class="n">DC_inorder</span><span class="p">(</span><span class="n">node</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// DFS : Depth First Search
</span>  <span class="kt">void</span> <span class="n">DFS_preorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="n">stack</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">list</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">doit</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
        <span class="n">list</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
        <span class="n">list</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">DFS_postorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="n">stack</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">list</span><span class="p">;</span>
    <span class="n">unordered_set</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">set1</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">list</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">set1</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">())</span> <span class="o">!=</span> <span class="n">set1</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
          <span class="n">doit</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>
          <span class="n">list</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
          <span class="n">curr</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
          <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">doit</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>
          <span class="n">curr</span> <span class="o">=</span> <span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
          <span class="n">list</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
          <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
        <span class="n">set1</span><span class="p">.</span><span class="n">emplace</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kt">void</span> <span class="n">DFS_inorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
    <span class="n">stack</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">list</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">list</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">list</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">doit</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">list</span><span class="p">.</span><span class="n">top</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span>
        <span class="n">list</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// BFS : Breadth First Search
</span>  <span class="kt">void</span> <span class="n">BFS_levelorder</span><span class="p">(</span><span class="n">Node</span> <span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">queue</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">*&gt;</span> <span class="n">q</span><span class="p">;</span>
     <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
     <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">left</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
         <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">left</span><span class="p">);</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
         <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">right</span><span class="p">);</span>
       <span class="n">doit</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">());</span>
       <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
     <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">testAll</span><span class="p">(</span><span class="n">string</span> <span class="n">filename</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">buildPlainTree</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"*************level************</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">BFS_levelorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">***********preorder***********</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DC_preorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DFS_preorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">************inorder***********</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DC_inorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DFS_inorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">***********postorder**********</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DC_postorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">DFS_postorder</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">***********end**********</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">BinaryTree</span> <span class="n">tree</span><span class="p">;</span>
  <span class="n">tree</span><span class="p">.</span><span class="n">testAll</span><span class="p">(</span><span class="s">"inputTree.txt"</span><span class="p">);</span>
  <span class="n">tree</span><span class="p">.</span><span class="n">testAll</span><span class="p">(</span><span class="s">"inputTree1.txt"</span><span class="p">);</span>
  <span class="n">tree</span><span class="p">.</span><span class="n">testAll</span><span class="p">(</span><span class="s">"inputTree2.txt"</span><span class="p">);</span>
<span class="p">}</span>


</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>test case 1: 1 2 3 4 5 6 7 # 8 # 9 10 11 # 13 14 15 16 17
test case 2: 1 2 # 3 # 4 # 5 # 6 # 7 # 8
test case 3: 1 # 2 # 3 # 4 # 5 # 6 # 7 # 8
</code></pre>
</div>

<p>Contribution</p>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/02/Queue-II.html">Queue by Grow Array</a>
      </h1>
      <meta itemprop="keywords" content="Queue,Grow Array,Two Pointers" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Queue" title="Queue">Queue</a>, 
      
      <a href="/tags/#Grow Array" title="Grow Array">Grow Array</a>, 
      
      <a href="/tags/#Two Pointers" title="Two Pointers">Two Pointers</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-02">
        on Apr 2, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a implementation of Queue using Grow Array with two pointers.</p>

<!--more-->

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Queue</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="o">*</span> <span class="n">array</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">head</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">tail</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">capacity</span><span class="p">;</span>
  <span class="kt">void</span> <span class="nf">grow</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">array</span><span class="p">;</span>
    <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">capacity</span> <span class="o">*</span> <span class="mi">2</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">head</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">),</span> <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="n">tail</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">h</span> <span class="o">&gt;=</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">h</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="n">t</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">h</span> <span class="o">+</span> <span class="p">(</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">t</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">capacity</span><span class="p">)</span>
          <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">else</span>
          <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">capacity</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">capacity</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">delete</span> <span class="p">[]</span> <span class="n">temp</span><span class="p">;</span>
  <span class="p">}</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Queue</span><span class="p">()</span> <span class="o">:</span> <span class="n">capacity</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">array</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">head</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">tail</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">Queue</span><span class="p">(</span><span class="kt">int</span> <span class="n">size</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">capacity</span> <span class="o">=</span> <span class="n">size</span><span class="p">;</span>
    <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">size</span><span class="p">];</span>
    <span class="n">tail</span> <span class="o">=</span> <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="o">~</span> <span class="n">Queue</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="p">[]</span> <span class="n">array</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">enqueue</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">capacity</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">capacity</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
      <span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
      <span class="n">tail</span> <span class="o">=</span> <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">head</span> <span class="o">&gt;=</span> <span class="n">tail</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">head</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">capacity</span> <span class="o">==</span> <span class="n">tail</span><span class="p">)</span>
        <span class="n">grow</span><span class="p">();</span>
      <span class="n">head</span><span class="o">++</span><span class="p">;</span>
      <span class="n">array</span><span class="p">[</span><span class="n">head</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">dequeue</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">capacity</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">tail</span> <span class="o">&gt;</span> <span class="n">head</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">array</span><span class="p">[</span><span class="n">tail</span><span class="o">++</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">size</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">head</span> <span class="o">-</span> <span class="n">tail</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">isEmpty</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">tail</span> <span class="o">&gt;</span> <span class="n">head</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">display</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">tail</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">head</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">head = "</span> <span class="o">&lt;&lt;</span> <span class="n">head</span> <span class="o">&lt;&lt;</span> <span class="s">" tail = "</span><span class="o">&lt;&lt;</span><span class="n">tail</span><span class="o">&lt;&lt;</span><span class="s">" capacity="</span><span class="o">&lt;&lt;</span><span class="n">capacity</span><span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">Queue</span> <span class="n">q</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">q</span><span class="p">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">q</span><span class="p">.</span><span class="n">dequeue</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">105</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
      <span class="n">q</span><span class="p">.</span><span class="n">enqueue</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="k">else</span>
      <span class="n">q</span><span class="p">.</span><span class="n">dequeue</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"size = "</span><span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">" empty?"</span> <span class="o">&lt;&lt;</span> <span class="n">q</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
  <span class="n">q</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


</code></pre>
</div>

<p>Contribution</p>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/algorithm/2016/04/01/Stack.html">Stack Practice</a>
      </h1>
      <meta itemprop="keywords" content="Stack,Linked List" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#algorithm">algorithm</a>
      
      
      and tagged
      
      <a href="/tags/#Stack" title="Stack">Stack</a>, 
      
      <a href="/tags/#Linked List" title="Linked List">Linked List</a>
      
      
      <time itemprop="datePublished" datetime="2016-04-01">
        on Apr 1, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      
      <p>This is a naive implementation of Stack which mainly used to add or remove element from front or end side.</p>

<!--more-->

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code>
<span class="cp">#include&lt;iostream&gt;
</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Stack</span> <span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="k">struct</span> <span class="n">Node</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">val</span><span class="p">;</span>
    <span class="n">Node</span> <span class="o">*</span> <span class="n">next</span><span class="p">;</span>
    <span class="n">Node</span><span class="p">()</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">next</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
    <span class="n">Node</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">val</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">next</span><span class="p">(</span><span class="nb">NULL</span><span class="p">)</span> <span class="p">{}</span>
  <span class="p">};</span>
  <span class="n">Node</span> <span class="o">*</span> <span class="n">top</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">len</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">Stack</span><span class="p">()</span> <span class="o">:</span> <span class="n">top</span><span class="p">(</span><span class="nb">NULL</span><span class="p">),</span> <span class="n">len</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>

   <span class="n">Stack</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="o">:</span> <span class="n">top</span><span class="p">(</span><span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">v</span><span class="p">)),</span> <span class="n">len</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>

   <span class="o">~</span> <span class="n">Stack</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">Node</span> <span class="o">*</span> <span class="n">temp</span><span class="p">;</span>
     <span class="k">while</span> <span class="p">(</span><span class="n">top</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">temp</span> <span class="o">=</span> <span class="n">top</span><span class="p">;</span>
       <span class="n">top</span> <span class="o">=</span> <span class="n">top</span> <span class="o">-&gt;</span> <span class="n">next</span><span class="p">;</span>
       <span class="k">delete</span> <span class="n">temp</span><span class="p">;</span>
     <span class="p">}</span>
     <span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">void</span> <span class="n">push</span><span class="p">(</span><span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">top</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">Node</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">top</span><span class="p">;</span>
      <span class="n">top</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Node</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
      <span class="n">top</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
      <span class="n">temp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">len</span><span class="o">++</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">int</span> <span class="n">pop</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">isEmpty</span><span class="p">())</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
     <span class="n">Node</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">top</span><span class="p">;</span>
     <span class="n">top</span> <span class="o">=</span> <span class="n">top</span> <span class="o">-&gt;</span> <span class="n">next</span><span class="p">;</span>
     <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">-&gt;</span> <span class="n">val</span><span class="p">;</span>
     <span class="k">delete</span> <span class="n">temp</span><span class="p">;</span>
     <span class="n">len</span><span class="o">--</span><span class="p">;</span>
     <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">int</span> <span class="n">size</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
     <span class="k">return</span> <span class="n">len</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">int</span> <span class="n">peek</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
     <span class="k">return</span> <span class="n">top</span> <span class="o">-&gt;</span> <span class="n">val</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">bool</span> <span class="n">isEmpty</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">return</span> <span class="n">len</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kt">void</span> <span class="n">display</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">Node</span> <span class="o">*</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">top</span><span class="p">;</span>
     <span class="k">while</span><span class="p">(</span><span class="n">curr</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">curr</span> <span class="o">-&gt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
       <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span> <span class="o">-&gt;</span> <span class="n">next</span><span class="p">;</span>
     <span class="p">}</span>
     <span class="n">curr</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
   <span class="p">}</span>
 <span class="p">};</span>

 <span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="n">Stack</span> <span class="n">stk</span><span class="p">;</span>
   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">stk</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
   <span class="p">}</span>
   <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">stk</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
   <span class="p">}</span>
   <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">stk</span><span class="p">.</span><span class="n">peek</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
   <span class="n">stk</span><span class="p">.</span><span class="n">display</span><span class="p">();</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
 <span class="p">}</span>

</code></pre>
</div>

<p>Contribution</p>

<p><a href="http://jianwang.info/">@jianw851</a></p>

<hr />

      
    </article>
    <hr />

    

  </div>
</div>

    </div>
  </div>
  <section class="pager">
  
  
  <li class="next"><a href="/page2/" title="Older">Older &rarr;</a></li>
  
</section>

<script src="/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        url = '/page2/';
        
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>




  

  <footer class="site-footer">

  <p>Copyright &copy; <a href="/">Welcome</a></p>
  <p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a>
  on
  
  <a href="https://github.com/">Github</a>
  
  | Theme <a href="https://github.com/jianw851/jianw851.github.io">Jian's Github</a> Design by <a href="http://jianwang.info">Jian Wang</a>  


  <div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
    <a title="Back To Top"><img src="/images/topbutton.png"/></a>
  </div>

  <script src="/js/jquery-1.9.1.min.js"></script>
  <script src="/js/totop.js"></script>



</footer>


</div>

</body>

</html>
